# Generated by Django 3.1.5 on 2021-01-22 18:25

from django.db import migrations
from random import randint


AUTHORS = [
    {
        "last_name": "Гоголь",
        "first_name": "Николай",
        "middle_name": "Васильевич",
        "description": "Николай Васильевич Гоголь (1809 – 1852) – классик русской литературы, писатель, драматург, "
                       "публицист, критик. Самыми главными произведениями Гоголя считаются: сборник «Вечера "
                       "на хуторе близ Диканьки», посвященное обычаям и традициям украинского народа, "
                       "а также величайшая поэма “Мертвые души"
    },
    {
        "last_name": "Гончаров",
        "first_name": "Иван",
        "middle_name": "Александрович",
        "description": "Русский писатель Иван Гончаров создал три романа. Именно они принесли литератору славу "
                       "мастера слова. Примечательно, что названия трех книг начинаются с букв «Об»."
    },
    {
        "last_name": "Достоевский",
        "first_name": "Федор",
        "middle_name": "Михайлович",
        "description": "Фёдор Миха́йлович Достое́вский (30 октября 1821, Москва, Российская империя — 28 января 1881,"
                       " Санкт-Петербург, Российская империя) — русский писатель, мыслитель, философ и публицист. "
                       "Член-корреспондент Петербургской академии наук с 1877 года. Ранние произведения писателя, "
                       "как и повесть «Записки из Мёртвого дома», способствовали возникновению жанра "
                       "психологической прозы. После смерти Достоевский был признан классиком русской литературы "
                       "и одним из лучших романистов мирового значения."

    },
    {
        "last_name": "Пелевин",
        "first_name": "Виктор",
        "middle_name": None,
        "description": "Виктор Пелевин – современный русский прозаик, прославившийся в 90-е романами «Омон Ра», "
                       "«Чапаев и Пустота» и «Generation „П“». Обладатель Малой Букеровской премии за сборник "
                       "«Синий фонарь», «Национального бестселлера» за роман «ДПП NN» и ряда других наград."
    },
    {
        "last_name": "Прилепин",
        "first_name": "Захар",
        "middle_name": None,
        "description": "Российский политический деятель, писатель, филолог, публицист. Председатель политической "
                       "партии «За правду» с 1 февраля 2020 года. Член Центрального штаба Общероссийского "
                       "народного фронта. Известен также своей общественно-политической, гуманитарной и военной "
                       "деятельностью в России и странах «ближнего зарубежья»."
    },
    {
        "last_name": "Шолохов",
        "first_name": "Михаил",
        "middle_name": "Александрович",
        "description": "Русский советский писатель, журналист и киносценарист. Военный корреспондент. Полковник. "
                       "Лауреат Нобелевской премии по литературе, Сталинской премии, Ленинской премии."
    }
]

CATEGORIES = [
    {
        "title": "Русская литература",
        "description": "Русская литература — литература русского народа и людей другой нации, воспитанных в традициях "
                       "русской культуры. Временем зарождения принято считать вторую половину X века. Является одной "
                       "из важнейших составляющих культуры России."
    },
    {
        "title": "Военная литература",
        "description": "Военная литература — литература, имеющая отношение к военному делу (военной истории истории "
                       "войн, вооружению и военной технике, формированиям и так далее)"
    },
    {
        "title": "Классическая литература",
        "description": "Классическая литература — корпус произведений, считающихся образцовыми для той или иной эпохи."
    },
    {
        "title": "Пьесы",
        "description": "Пье́са (от фр. Pièce — произведение, отрывок, часть) — видовое название произведений "
                       "драматургии, предназначенных для исполнения со сцены, а также для теле- и радиоспектаклей."
    },
    {
        "title": "Современная литература",
        "description": "Современная литература это совокупность прозаических и поэтических произведений, "
                       "написанных в конце XX в. – начале XXI вв."
    },
    {
        "title": "Эзотерика",
        "description": "Эзоте́рика — совокупность знаний, сведений, недоступных непосвящённым, несведущим в "
                       "мистических учениях людям, особых способов восприятия реальности, имеющих тайное содержание "
                       "и выражение в «психодуховных практиках»."
    }
]
LIBRARIES = [
    {
        "title": "Библиотека №1",
        "location": "Гражданская улица, дом 19",
        "phone": "8-999-123-45-67"
    },
    {
        "title": "Библиотека №23",
        "location": "ул. Петербургская, д.131",
        "phone": "8-900-302-13-32",
    },
    {
        "title": "Библиотека №12",
        "location": "Литейный проспект, д. 23",
        "phone": "8-900-833-29-05",
    }
]


def set_data(apps, schema_editor):
    author_list = []
    Authors = apps.get_model('books', 'Authors')
    for author in AUTHORS:
        aut_obj = Authors.objects.create(
            last_name=author['last_name'],
            first_name=author['first_name'],
            middle_name=author['middle_name'],
            description=author['description']
        )
        author_list.append(aut_obj)

    category_list = []
    Categories = apps.get_model('books', 'Categories')
    for category in CATEGORIES:
        cat_obj =Categories.objects.create(
            title=category['title'],
            description=category['description'],
        )
        category_list.append(cat_obj)

    library_list = []
    Libraries = apps.get_model('books', 'Libraries')
    for library in LIBRARIES:
        lib_obj = Libraries.objects.create(
            title=library['title'],
            location=library['location'],
            phone=library['phone']
        )
        library_list.append(lib_obj)

    books = [
        {
            "title": "Обломов",
            "author": author_list[1],
            "description": "Роман, написанный русским писателем Иваном Александровичем Гончаровым в период с 1847 "
                           "по 1859 год. Впервые был опубликован в 1859 году. Роман входит в трилогию вместе "
                           "с произведениями «Обыкновенная история» и «Обрыв», являясь её второй частью.",
            "categories": (
                category_list[0].id,
                category_list[2].id,
            )
        },
        {
            "title": "Преступление и наказание",
            "author": author_list[2],
            "description": "Самый известный роман Ф.М. Достоевского, совершивший мощный переворот общественного "
                           "сознания. Написание романа символизирует открытие высшего, нового этапа творчества "
                           "гениального писателя.",
            "categories": [
                category_list[0].id,
                category_list[2].id,
            ]
        },
        {
            "title": "Идиот",
            "author": author_list[2],
            "description": "Что будет, если человека с открытым сердцем и благими чаяниями, человека вмещающего "
                           "в себя все христианские добродетели, поместить в наш жестокий мир, в самую гущу страстей? "
                           "Заразит ли он своей добродетелью окружающих его людей, сделает ли мир лучше? Или же "
                           "сам сгинет и других затянет туда, куда выстлана дорога хорошими намерениями, "
                           "под натиском жестокости и циничности реалий, его окружающих?",
            "categories": [
                category_list[0].id,
                category_list[2].id,
            ]
        },
        {
            "title": "Двойник",
            "author": author_list[2],
            "description": "В повести «Двойник» (1846) Достоевским дан глубокий психологический анализ расколотого "
                           "сознания, анализ, предвещающий великие романы писателя. Повесть «Двойник» во многом "
                           "связана с художественным миром и поэтикой гоголевских петербургских повестей. "
                           "Можно сказать, что фантастический и непостижимый Петербург романов Достоевского берет "
                           "начало в этой повести. Не случайно ведь повесть имеет подзаголовок «Петербургская поэма».",
            "categories": [
                category_list[0].id,
                category_list[2].id,
            ]
        },
        {
            "title": "Обитель",
            "author": author_list[4],
            "description": "«Обитель» — исторический роман русского писателя Захара Прилепина, повествующий о жизни "
                           "заключённых в советском Соловецком лагере особого назначения в конце 1920-х годов.",
            "categories": [
                category_list[0].id,
                category_list[4].id,
            ]
        },
        {
            "title": "Санькя",
            "author": author_list[4],
            "description": "Роман русского писателя Захара Прилепина, посвящённый современным русским революционерам. "
                           "Опубликован в 2006 году в издательстве «Ad Marginem», затем неоднократно переиздавался.",
            "categories": [
                category_list[0].id,
                category_list[4].id,
            ]
        },
        {
            "title": "Мертвые души",
            "author": author_list[0],
            "description": "Поэма «Мертвые души» была задумана Гоголем как грандиозная панорама российского общества "
                           "со всеми его особенностями и парадоксами. Центральная проблема произведения – духовная "
                           "смерть и возрождение представителей основных российских сословий того времени. Автор "
                           "обличает и высмеивает пороки помещиков, продажность и пагубные страсти чиновничества.",
            "categories": [
                category_list[0].id,
                category_list[2].id,
            ]
        },
        {
            "title": "Судьба человека",
            "author": author_list[5],
            "description": "«Судьба человека» — одно из лучших произведений Михаила Шолохова. История одной жизни "
                           "передает трагедию всего народа, столкнувшегося с ужасом войны. Понятия чести и "
                           "достоинства, храбрость и способность сохранить человеческий облик в невыносимых "
                           "условиях — все это отражено в новелле «Судьба человека».",
            "categories": [
                category_list[0].id,
                category_list[1].id,
            ]
        },
        {
            "title": "Generation 'П'",
            "author": author_list[3],
            "description": "«Generation „П“» — постмодернистский роман Виктора Пелевина о поколении россиян, которое "
                           "взрослело и формировалось во времена политических и экономических реформ 1990-х",
            "categories": [
                category_list[0].id,
                category_list[4].id,
                category_list[5].id,
            ]
        },
        {
            "title": "Ревизор",
            "author": author_list[0],
            "description": "«Ревизо́р» — комедия в пяти действиях русского писателя Николая Васильевича Гоголя.",
            "categories": (
                category_list[0].id,
                category_list[2].id,
                category_list[3].id,
            )
        }
    ]
    books_list = []
    Books = apps.get_model('books', 'Books')
    for book in books:
        book_obj = Books.objects.create(
            title=book['title'],
            author=book['author'],
            description=book['description']
        )
        for category in book['categories']:
            book_obj.categories.add(category)
        books_list.append(book_obj)

    BookLibraryAvailable = apps.get_model('books', 'BookLibraryAvailable')
    for book in books_list:
        for library in library_list:
            dice = randint(1, 4)
            if dice == 1:
                continue
            elif dice == 2:
                BookLibraryAvailable.objects.create(book=book, library=library, available=False)
            else:
                BookLibraryAvailable.objects.create(book=book, library=library, available=True)


class Migration(migrations.Migration):
    dependencies = [
        ('books', '0001_initial'),
    ]

    operations = [
        migrations.RunPython(set_data)
    ]
